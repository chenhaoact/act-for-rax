{"version":3,"sources":["webpack:///webpack/bootstrap b389eebc12303485cdfd","webpack:///./packages/rax/src/vdom/host.js","webpack:///./packages/rax/src/vdom/instance.js","webpack:///./packages/rax/src/vdom/instantiateComponent.js","webpack:///./packages/rax/src/component.js","webpack:///./packages/rax/src/vdom/shouldUpdateComponent.js","webpack:///./packages/universal-env/lib/index.js","webpack:///./packages/rax/src/element.js","webpack:///./packages/rax/src/findDOMNode.js","webpack:///./packages/rax/src/setNativeProps.js","webpack:///./packages/rax/src/unmountComponentAtNode.js","webpack:///./packages/rax/src/debug/hook.js","webpack:///./packages/rax/src/vdom/getElementKeyName.js","webpack:///./packages/rax/src/vdom/native.js","webpack:///./packages/rax/src/vdom/ref.js","webpack:///./packages/style-unit/lib/index.js","webpack:///./packages/weex-driver/lib/parseProps.js","webpack:///./packages/rax/src/debug/devtools.js","webpack:///./packages/rax/src/findComponentInstance.js","webpack:///./packages/rax/src/proptypes.js","webpack:///./packages/rax/src/purecomponent.js","webpack:///./packages/rax/src/render.js","webpack:///./packages/rax/src/version.js","webpack:///./packages/rax/src/drivers/browser.js","webpack:///./packages/rax/src/drivers/weex.js","webpack:///./packages/rax/src/index.js","webpack:///./packages/rax/src/inject.js","webpack:///./packages/rax/src/style/flexbox.js","webpack:///./packages/rax/src/vdom/composite.js","webpack:///./packages/rax/src/vdom/empty.js","webpack:///./packages/rax/src/vdom/fragment.js","webpack:///./packages/rax/src/vdom/root.js","webpack:///./packages/rax/src/vdom/shallowEqual.js","webpack:///./packages/rax/src/vdom/stateless.js","webpack:///./packages/rax/src/vdom/text.js","webpack:///./packages/rax/src/vdom/updater.js","webpack:///./packages/weex-driver/lib/elements/block.js","webpack:///./packages/weex-driver/lib/elements/button.js","webpack:///./packages/weex-driver/lib/elements/heading.js","webpack:///./packages/weex-driver/lib/elements/img.js","webpack:///./packages/weex-driver/lib/elements/index.js","webpack:///./packages/weex-driver/lib/elements/p.js","webpack:///./packages/weex-driver/lib/elements/span.js","webpack:///./packages/weex-driver/lib/elements/textarea.js","webpack:///./packages/weex-driver/lib/elements/video.js","webpack:///./packages/weex-driver/lib/index.js"],"names":["component","mountID","sandbox","rootComponents","rootInstances","hook","driver","monitor","KEY","set","node","instance","rootID","_internal","get","remove","render","element","container","measurer","beforeRender","createBody","prevRootInstance","hasPrevRootInstance","isRootComponent","prevRenderedComponent","getRenderedComponent","prevElement","_currentElement","prevUnmaskedContext","_context","updateComponent","Reconciler","unmountComponent","childNodes","i","length","rootChildNode","hasAttribute","removeChild","wrappedElement","renderedComponent","defaultContext","rootInstance","mountComponent","afterRender","Mount","_renderNewRootComponent","instantiateComponent","undefined","EmptyComponent","Array","isArray","FragmentComponent","type","NativeComponent","CompositeComponent","TextComponent","Error","JSON","stringify","_mountIndex","Component","props","context","updater","refs","partialState","callback","setState","forceUpdate","shouldUpdateComponent","nextElement","prevEmpty","nextEmpty","prevType","nextType","key","Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","isWeb","navigator","appCodeName","product","isNode","process","versions","isWeex","callNative","isReactNative","__fbBatchedBridgeConfig","createElement","createFactory","cloneElement","isValidElement","RESERVED_PROPS","ref","getRenderErrorInfo","name","getName","Element","owner","filterProps","_owner","traverseChildren","children","result","l","push","flattenChildren","flattenStyle","style","computedStyle","map","val","join","String","config","propName","hasOwnProperty","defaultProps","factory","bind","assign","object","findDOMNode","ownerDocument","nodeType","_nativeNode","getElementById","internal","_renderedComponent","setNativeProps","STYLE","CHILDREN","EVENT_PREFIX_REGEXP","disableSetStyles","prop","setStyles","test","eventName","slice","toLowerCase","addEventListener","setAttribute","unmountComponentAtNode","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","inst","_instancesByReactRootID","receiveComponent","index","elementKey","hasKey","defaultName","toString","keyName","keyUnique","console","warn","TREE","parent","childMounter","_parent","_mountID","appendType","append","_instance","_prevStyleCopy","nativeNode","getNativeNode","appendChild","attach","mountChildren","renderedChildren","renderedChildrenImage","renderedChild","mountImage","_renderedChildren","notRemoveChild","detach","removeAllEventListeners","unmountChildren","prevContext","nextContext","update","prevProps","nextProps","updateProperties","updateChildren","propKey","styleName","styleUpdates","lastStyle","removeEventListener","removeAttribute","nextProp","prevProp","payload","recordOperation","instanceID","nextChildrenElements","prevChildren","nextChildren","oldNodes","prevChild","oldNativeNode","firstPrevChild","delayRemoveFirstPrevChild","shouldRemove","lastIndex","nextIndex","lastPlacedNode","nextNativeNode","nextChild","prevChildNativeNode","insertAfter","concat","Math","max","newChild","oldChild","lastNewChild","child","replaceChild","prevFirstNativeNode","insertBefore","splice","prevRef","nextRef","ownerComponent","getPublicInstance","isRem","calcRem","getRem","setRem","isUnitNumber","convertUnit","UNITLESS_NUMBER_PROPS","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","opacity","order","orphans","tabSize","widows","zIndex","zoom","lines","SUFFIX","REM_REG","defaultRem","str","indexOf","rem","arguments","replace","remValue","parseFloat","transformPropsAttrsToStyle","renamePropsAttr","attrs","forEach","attr","originalAttrName","newAttrName","__REACT_DEVTOOLS_GLOBAL_HOOK__","inject","findComponentInstance","createChainableTypeChecker","validate","checkType","isRequired","componentName","location","propFullName","typeChecker","chainedCheckType","createTypeChecker","expectedType","array","bool","func","number","string","symbol","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","shape","PureComponent","options","rootComponent","call","FULL_WIDTH_REM","DANGEROUSLY_SET_INNER_HTML","CLASS_NAME","CLASS","Driver","id","document","getParentNode","parentNode","body","createComment","content","createEmpty","createText","text","createTextNode","updateText","textContentAttr","after","nextSibling","before","eventHandler","innerHTML","propValue","__html","styles","tranformedStyles","isFlexProp","transformValue","getWindowWidth","documentElement","clientWidth","default","PropTypes","version","BOX_ALIGN","stretch","center","BOX_ORIENT","row","column","BOX_PACK","FLEX_PROPS","display","alignItems","alignSelf","flexDirection","justifyContent","flexWrap","Flexbox","webkitBoxFlex","webkitFlex","webkitBoxAlign","webkitAlignItems","webkitAlignSelf","webkitBoxOrient","webkitFlexDirection","webkitBoxPack","webkitJustifyContent","performInSandbox","fn","handleError","e","setTimeout","measureLifeCycle","beforeLifeCycle","afterLifeCycle","displayName","_updateCount","beforeMountComponent","publicProps","isClass","isComponentClass","isStatelessClass","publicContext","_processContext","renderedElement","initialState","state","componentWillMount","_processPendingState","_processChildContext","componentDidMount","afterMountComponent","componentWillUnmount","_pendingStateQueue","_pendingForceUpdate","contextTypes","maskedContext","contextName","currentContext","childContext","getChildContext","queue","nextState","partial","nextUnmaskedContext","beforeUpdateComponent","error","willReceive","hasReceived","componentWillReceiveProps","_pendingState","shouldUpdate","prevState","shouldComponentUpdate","isPureComponentClass","componentWillUpdate","_updateRenderedComponent","componentDidUpdate","callbacks","_pendingCallbacks","runCallbacks","afterUpdateComponent","prevRenderedElement","nextRenderedElement","fragment","isFragmentParent","rootCounter","Root","is","x","y","shallowEqual","objA","objB","keysA","keys","keysB","StatelessComponent","pureRender","_stringText","enqueueCallback","callbackQueue","enqueueState","stateQueue","Updater","runUpdate","parse","module","_extends","target","source","disabled","textStyle","textAlign","fontSize","paddingTop","paddingRight","paddingBottom","paddingLeft","borderWidth","borderStyle","borderColor","backgroudColor","onClick","color","BASE_FONT_SIZE","generateHeadingStyle","baseFontSize","fontMultiplier","marginMultiplier","marginTop","marginBottom","HeadingElements","h1","h2","h3","h4","h5","h6","_parseProps","require","_img","_img2","_interopRequireDefault","_video","_video2","_textarea","_textarea2","_span","_span2","_p","_p2","_button","_button2","_heading","_heading2","_block","_block2","__esModule","span","p","img","button","video","textarea","nav","article","section","footer","aside","main","defaultParagraphStyle","TypographyElements","u","textDecoration","s","fontStyle","b","del","em","strong","big","small","transformString","transformChild","nestedChildren","transformChildren","elements","_styleUnit","_elements","_elements2","ID","TEXT","ARIA_PREFIX_REGEXP","nodeMaps","__weex_document__","htmlElement","events","originStyle","previousSibling","addEvent","removeEvent","setAttr","m","p1","toUpperCase","setStyle","open","listener","createFinish","close"],"mappings":"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","file":"rax.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b389eebc12303485cdfd","/*\n * Stateful things in runtime\n */\nexport default {\n  component: null,\n  mountID: 1,\n  sandbox: true,\n  // Roots\n  rootComponents: {},\n  rootInstances: {},\n  // Inject\n  hook: null,\n  driver: null,\n  monitor: null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/host.js","import Host from './host';\nimport {createElement} from '../element';\nimport unmountComponentAtNode from '../unmountComponentAtNode';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport Root from './root';\nimport {isWeb} from 'universal-env';\n\n/**\n * Instance manager\n */\nconst KEY = '$$instance';\n\nexport default {\n  set(node, instance) {\n    if (!node[KEY]) {\n      node[KEY] = instance;\n      // Record root instance to roots map\n      if (instance.rootID) {\n        Host.rootInstances[instance.rootID] = instance;\n        Host.rootComponents[instance.rootID] = instance._internal;\n      }\n    }\n  },\n  get(node) {\n    return node[KEY];\n  },\n  remove(node) {\n    let instance = this.get(node);\n    if (instance) {\n      node[KEY] = null;\n      if (instance.rootID) {\n        delete Host.rootComponents[instance.rootID];\n        delete Host.rootInstances[instance.rootID];\n      }\n    }\n  },\n  render(element, container) {\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeRender();\n    }\n\n    // Before render callback\n    Host.driver.beforeRender && Host.driver.beforeRender();\n\n    // Real native root node is body\n    if (container == null) {\n      container = Host.driver.createBody();\n    }\n\n    let prevRootInstance = this.get(container);\n    let hasPrevRootInstance = prevRootInstance && prevRootInstance.isRootComponent;\n\n    if (hasPrevRootInstance) {\n      let prevRenderedComponent = prevRootInstance.getRenderedComponent();\n      let prevElement = prevRenderedComponent._currentElement;\n      if (shouldUpdateComponent(prevElement, element)) {\n        let prevUnmaskedContext = prevRenderedComponent._context;\n        prevRenderedComponent.updateComponent(\n          prevElement,\n          element,\n          prevUnmaskedContext,\n          prevUnmaskedContext\n        );\n\n        return prevRootInstance;\n      } else {\n        Host.hook.Reconciler.unmountComponent(prevRootInstance);\n        unmountComponentAtNode(container);\n      }\n    }\n\n    // Handle server rendered element\n    if (isWeb && container.childNodes) {\n      // Clone childNodes, Because removeChild will causing change in childNodes length\n      const childNodes = [...container.childNodes];\n\n      for (let i = 0; i < childNodes.length; i ++) {\n        const rootChildNode = childNodes[i];\n        if (rootChildNode.hasAttribute && rootChildNode.hasAttribute('data-rendered')) {\n          Host.driver.removeChild(rootChildNode, container);\n        }\n      }\n    }\n\n    let wrappedElement = createElement(Root, null, element);\n    let renderedComponent = instantiateComponent(wrappedElement);\n    let defaultContext = {};\n    let rootInstance = renderedComponent.mountComponent(container, defaultContext);\n    this.set(container, rootInstance);\n\n    // After render callback\n    Host.driver.afterRender && Host.driver.afterRender(rootInstance);\n\n    // Devtool render new root hook\n    Host.hook.Mount._renderNewRootComponent(rootInstance._internal);\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.afterRender();\n    }\n\n    return rootInstance;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/instance.js","import Host from './host';\n\nfunction instantiateComponent(element) {\n  let instance;\n\n  if (element === undefined || element === null || element === false || element === true) {\n    instance = new Host.EmptyComponent();\n  } else if (Array.isArray(element)) {\n    instance = new Host.FragmentComponent(element);\n  } else if (typeof element === 'object' && element.type) {\n    // Special case string values\n    if (typeof element.type === 'string') {\n      instance = new Host.NativeComponent(element);\n    } else {\n      instance = new Host.CompositeComponent(element);\n    }\n  } else if (typeof element === 'string' || typeof element === 'number') {\n    instance = new Host.TextComponent(element);\n  } else {\n    throw Error(`Invalid element type ${JSON.stringify(element)}`);\n  }\n\n  instance._mountIndex = 0;\n\n  return instance;\n}\n\nexport default instantiateComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/instantiateComponent.js","/**\n * Base component class.\n */\nclass Component {\n  constructor(props, context, updater) {\n    this.props = props;\n    this.context = context;\n    this.refs = {};\n    this.updater = updater;\n  }\n\n  isComponentClass() {}\n\n  setState(partialState, callback) {\n    this.updater.setState(this, partialState, callback);\n  }\n\n  forceUpdate(callback) {\n    this.updater.forceUpdate(this, callback);\n  }\n}\n\nexport default Component;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/component.js","function shouldUpdateComponent(prevElement, nextElement) {\n  // TODO: prevElement and nextElement could be array\n  let prevEmpty = prevElement === null;\n  let nextEmpty = nextElement === null;\n  if (prevEmpty || nextEmpty) {\n    return prevEmpty === nextEmpty;\n  }\n\n  let prevType = typeof prevElement;\n  let nextType = typeof nextElement;\n  if (prevType === 'string' || prevType === 'number') {\n    return nextType === 'string' || nextType === 'number';\n  } else {\n    return (\n      prevType === 'object' &&\n      nextType === 'object' &&\n      prevElement.type === nextElement.type &&\n      prevElement.key === nextElement.key\n    );\n  }\n}\n\nexport default shouldUpdateComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/shouldUpdateComponent.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// https://www.w3.org/TR/html5/webappapis.html#dom-navigator-appcodename\nvar isWeb = exports.isWeb = (typeof navigator === 'undefined' ? 'undefined' : _typeof(navigator)) === 'object' && (navigator.appCodeName === 'Mozilla' || navigator.product === 'Gecko');\nvar isNode = exports.isNode = typeof process !== 'undefined' && !!(process.versions && process.versions.node);\nvar isWeex = exports.isWeex = typeof callNative === 'function';\nvar isReactNative = exports.isReactNative = typeof __fbBatchedBridgeConfig !== 'undefined';\n\n\n// WEBPACK FOOTER //\n// ./packages/universal-env/lib/index.js","import Host from './vdom/host';\nimport {isWeex} from 'universal-env';\n\nconst RESERVED_PROPS = {\n  key: true,\n  ref: true,\n};\n\nfunction getRenderErrorInfo() {\n  if (Host.component) {\n    var name = Host.component.getName();\n    if (name) {\n      return ' Check the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\nconst Element = (type, key, ref, props, owner) => {\n  props = filterProps(type, props);\n\n  return {\n    // Built-in properties that belong on the element\n    type,\n    key,\n    ref,\n    props,\n    // Record the component responsible for creating this element.\n    _owner: owner,\n  };\n};\n\nexport default Element;\n\nfunction traverseChildren(children, result) {\n  if (Array.isArray(children)) {\n    for (let i = 0, l = children.length; i < l; i++) {\n      traverseChildren(children[i], result);\n    }\n  } else {\n    result.push(children);\n  }\n}\n\nfunction flattenChildren(children) {\n  if (children == null) {\n    return children;\n  }\n  let result = [];\n  traverseChildren(children, result);\n\n  if (result.length === 1) {\n    result = result[0];\n  }\n\n  return result;\n}\n\nfunction flattenStyle(style) {\n  if (!style) {\n    return undefined;\n  }\n\n  if (!Array.isArray(style)) {\n    return style;\n  } else {\n    let result = {};\n    for (let i = 0; i < style.length; ++i) {\n      let computedStyle = flattenStyle(style[i]);\n      if (computedStyle) {\n        for (let key in computedStyle) {\n          result[key] = computedStyle[key];\n        }\n      }\n    }\n    return result;\n  }\n}\n\n// TODO: move to weex-drvier\nfunction filterProps(type, props) {\n  // Only for weex text\n  if (isWeex && type === 'text') {\n    let children = props.children;\n    let value = props.value;\n\n    // Value is first\n    if (value == null && children != null) {\n      if (Array.isArray(children)) {\n        children = children.map(function(val) {\n          if (typeof val === 'number' || typeof val === 'string') {\n            return val;\n          } else {\n            return '';\n          }\n        }).join('');\n      } else if (typeof children !== 'number' && typeof children !== 'string') {\n        children = '';\n      }\n\n      props.value = String(children);\n    }\n\n    props.children = null;\n  }\n\n  return props;\n}\n\nexport function createElement(type, config, ...children) {\n  if (type == null) {\n    throw Error('createElement: type should not be null or undefined.' + getRenderErrorInfo());\n  }\n  // Reserved names are extracted\n  let props = {};\n  let propName;\n  let key = null;\n  let ref = null;\n\n  if (config != null) {\n    ref = config.ref === undefined ? null : config.ref;\n    key = config.key === undefined ? null : String(config.key);\n    // Remaining properties are added to a new props object\n    for (propName in config) {\n      if (config.hasOwnProperty(propName) &&\n          !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    }\n  }\n\n  if (children.length) {\n    props.children = flattenChildren(children);\n  }\n\n  // Resolve default props\n  if (type && type.defaultProps) {\n    let defaultProps = type.defaultProps;\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n\n  if (props.style && (Array.isArray(props.style) || typeof props.style === 'object')) {\n    props.style = flattenStyle(props.style);\n  }\n\n  return new Element(\n    type,\n    key,\n    ref,\n    props,\n    Host.component\n  );\n}\n\nexport function createFactory(type) {\n  const factory = createElement.bind(null, type);\n  // Expose the type on the factory and the prototype so that it can be\n  // easily accessed on elements. E.g. `<Foo />.type === Foo`.\n  // This should not be named `constructor` since this may not be the function\n  // that created the element, and it may not even be a constructor.\n  factory.type = type;\n  return factory;\n}\n\nexport function cloneElement(element, config, ...children) {\n  // Original props are copied\n  const props = Object.assign({}, element.props);\n\n  // Reserved names are extracted\n  let key = element.key;\n  let ref = element.ref;\n\n  // Owner will be preserved, unless ref is overridden\n  let owner = element._owner;\n\n  if (config) {\n    // Should reset ref and owner if has a new ref\n    if (config.ref !== undefined) {\n      ref = config.ref;\n      owner = Host.component;\n    }\n\n    if (config.key !== undefined) {\n      key = String(config.key);\n    }\n\n    // Resolve default props\n    let defaultProps;\n    if (element.type && element.type.defaultProps) {\n      defaultProps = element.type.defaultProps;\n    }\n    // Remaining properties override existing props\n    let propName;\n    for (propName in config) {\n      if (config.hasOwnProperty(propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        if (config[propName] === undefined && defaultProps !== undefined) {\n          // Resolve default props\n          props[propName] = defaultProps[propName];\n        } else {\n          props[propName] = config[propName];\n        }\n      }\n    }\n  }\n\n  if (children.length) {\n    props.children = flattenChildren(children);\n  }\n\n  return new Element(\n    element.type,\n    key,\n    ref,\n    props,\n    owner\n  );\n};\n\nexport function isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.type && object.props;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/element.js","import Host from './vdom/host';\n\nfunction findDOMNode(instance) {\n  if (instance == null) {\n    return null;\n  }\n\n  // If a native node, weex may not export ownerDocument property\n  if (instance.ownerDocument || instance.nodeType) {\n    return instance;\n  }\n\n  // Native component\n  if (instance._nativeNode) {\n    return instance._nativeNode;\n  }\n\n  if (typeof instance == 'string') {\n    return Host.driver.getElementById(instance);\n  }\n\n  if (typeof instance.render !== 'function') {\n    throw new Error('Appears to be neither Component nor DOMNode.');\n  }\n\n  // Composite component\n  let internal = instance._internal;\n\n  if (internal) {\n    while (!internal._nativeNode) {\n      internal = internal._renderedComponent;\n      // If not mounted\n      if (internal == null) {\n        return null;\n      }\n    }\n    return internal._nativeNode;\n  } else {\n    throw new Error('findDOMNode was called on an unmounted component.');\n  }\n}\n\nexport default findDOMNode;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/findDOMNode.js","import Host from './vdom/host';\nimport findDOMNode from './findDOMNode';\n\nconst STYLE = 'style';\nconst CHILDREN = 'children';\nconst EVENT_PREFIX_REGEXP = /on[A-Z]/;\n\nexport default function setNativeProps(node, props, disableSetStyles) {\n  node = findDOMNode(node);\n\n  for (let prop in props) {\n    let value = props[prop];\n    if (prop === CHILDREN) {\n      continue;\n    }\n\n    if (value != null) {\n      if (prop === STYLE) {\n        if (disableSetStyles) {\n          continue;\n        }\n        Host.driver.setStyles(node, value);\n      } else if (EVENT_PREFIX_REGEXP.test(prop)) {\n        let eventName = prop.slice(2).toLowerCase();\n        Host.driver.addEventListener(node, eventName, value);\n      } else {\n        Host.driver.setAttribute(node, prop, value);\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/setNativeProps.js","import instance from './vdom/instance';\n\nexport default function unmountComponentAtNode(node) {\n  let component = instance.get(node);\n\n  if (!component) {\n    return false;\n  }\n\n  instance.remove(node);\n  component._internal.unmountComponent();\n\n  return true;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/unmountComponentAtNode.js","import instance from '../vdom/instance';\nimport Host from '../vdom/host';\n\nexport default {\n  ComponentTree: {\n    getClosestInstanceFromNode(node) {\n      return instance.get(node);\n    },\n    getNodeFromInstance(inst) {\n      // inst is an internal instance (but could be a composite)\n      while (inst._renderedComponent) {\n        inst = inst._renderedComponent;\n      }\n\n      if (inst) {\n        return inst._nativeNode;\n      } else {\n        return null;\n      }\n    }\n  },\n  Mount: {\n    _instancesByReactRootID: Host.rootComponents,\n\n    // Stub - React DevTools expects to find this method and replace it\n    // with a wrapper in order to observe new root components being added\n    _renderNewRootComponent() {}\n  },\n  Reconciler: {\n    // Stubs - React DevTools expects to find these methods and replace them\n    // with wrappers in order to observe components being mounted, updated and\n    // unmounted\n    mountComponent() {},\n    receiveComponent() {},\n    unmountComponent() {},\n  },\n  // monitor the info of all components\n  monitor: null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/debug/hook.js","export default (children, element, index) => {\n  const elementKey = element && element.key;\n  const hasKey = typeof elementKey === 'string';\n  const defaultName = '.' + index.toString(36);\n\n  if (hasKey) {\n    let keyName = '$' + elementKey;\n    // Child keys must be unique.\n    let keyUnique = children[keyName] === undefined;\n    // Only the first child will be used when encountered two children with the same key\n    if (!keyUnique) console.warn(`Encountered two children with the same key \"${elementKey}\".`);\n\n    return keyUnique ? keyName : defaultName;\n  } else {\n    return defaultName;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/getElementKeyName.js","import Host from './host';\nimport Ref from './ref';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport getElementKeyName from './getElementKeyName';\nimport instance from './instance';\n\nconst STYLE = 'style';\nconst CHILDREN = 'children';\nconst TREE = 'tree';\nconst EVENT_PREFIX_REGEXP = /on[A-Z]/;\n\n/**\n * Native Component\n */\nclass NativeComponent {\n  constructor(element) {\n    this._currentElement = element;\n  }\n\n  mountComponent(parent, context, childMounter) {\n    // Parent native element\n    this._parent = parent;\n    this._context = context;\n    this._mountID = Host.mountID++;\n\n    let props = this._currentElement.props;\n    let type = this._currentElement.type;\n    let instance = {\n      _internal: this,\n      type,\n      props,\n    };\n    let appendType = props.append; // Default is node\n\n    this._instance = instance;\n\n    // Clone a copy for style diff\n    this._prevStyleCopy = Object.assign({}, props.style);\n\n    let nativeNode = this.getNativeNode();\n\n    if (appendType !== TREE) {\n      if (childMounter) {\n        childMounter(nativeNode, parent);\n      } else {\n        Host.driver.appendChild(nativeNode, parent);\n      }\n    }\n\n    if (this._currentElement && this._currentElement.ref) {\n      Ref.attach(this._currentElement._owner, this._currentElement.ref, this);\n    }\n\n    // Process children\n    let children = props.children;\n    if (children != null) {\n      this.mountChildren(children, context);\n    }\n\n    if (appendType === TREE) {\n      if (childMounter) {\n        childMounter(nativeNode, parent);\n      } else {\n        Host.driver.appendChild(nativeNode, parent);\n      }\n    }\n\n    Host.hook.Reconciler.mountComponent(this);\n\n    return instance;\n  }\n\n  mountChildren(children, context) {\n    if (!Array.isArray(children)) {\n      children = [children];\n    }\n\n    let renderedChildren = {};\n\n    let renderedChildrenImage = children.map( (element, index) => {\n      let renderedChild = instantiateComponent(element);\n      let name = getElementKeyName(renderedChildren, element, index);\n      renderedChildren[name] = renderedChild;\n      renderedChild._mountIndex = index;\n      // Mount\n      let mountImage = renderedChild.mountComponent(this.getNativeNode(), context);\n      return mountImage;\n    });\n\n    this._renderedChildren = renderedChildren;\n\n    return renderedChildrenImage;\n  }\n\n  unmountChildren(notRemoveChild) {\n    let renderedChildren = this._renderedChildren;\n\n    if (renderedChildren) {\n      for (let name in renderedChildren) {\n        let renderedChild = renderedChildren[name];\n        renderedChild.unmountComponent(notRemoveChild);\n      }\n      this._renderedChildren = null;\n    }\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode) {\n      let ref = this._currentElement.ref;\n      if (ref) {\n        Ref.detach(this._currentElement._owner, ref, this);\n      }\n\n      instance.remove(this._nativeNode);\n      if (!notRemoveChild) {\n        Host.driver.removeChild(this._nativeNode, this._parent);\n      }\n      Host.driver.removeAllEventListeners(this._nativeNode);\n    }\n\n    this.unmountChildren(notRemoveChild);\n\n    Host.hook.Reconciler.unmountComponent(this);\n\n    this._currentElement = null;\n    this._nativeNode = null;\n    this._parent = null;\n    this._context = null;\n    this._instance = null;\n    this._prevStyleCopy = null;\n  }\n\n  updateComponent(prevElement, nextElement, prevContext, nextContext) {\n    // Replace current element\n    this._currentElement = nextElement;\n\n    Ref.update(prevElement, nextElement, this);\n\n    let prevProps = prevElement.props;\n    let nextProps = nextElement.props;\n\n    this.updateProperties(prevProps, nextProps);\n    this.updateChildren(nextProps.children, nextContext);\n\n    Host.hook.Reconciler.receiveComponent(this);\n  }\n\n  updateProperties(prevProps, nextProps) {\n    let propKey;\n    let styleName;\n    let styleUpdates;\n    for (propKey in prevProps) {\n      if (propKey === CHILDREN ||\n          nextProps.hasOwnProperty(propKey) ||\n         !prevProps.hasOwnProperty(propKey) ||\n         prevProps[propKey] == null) {\n        continue;\n      }\n      if (propKey === STYLE) {\n        let lastStyle = this._prevStyleCopy;\n        for (styleName in lastStyle) {\n          if (lastStyle.hasOwnProperty(styleName)) {\n            styleUpdates = styleUpdates || {};\n            styleUpdates[styleName] = '';\n          }\n        }\n        this._prevStyleCopy = null;\n      } else if (EVENT_PREFIX_REGEXP.test(propKey)) {\n        if (typeof prevProps[propKey] === 'function') {\n          Host.driver.removeEventListener(this.getNativeNode(), propKey.slice(2).toLowerCase(), prevProps[propKey]);\n        }\n      } else {\n        Host.driver.removeAttribute(this.getNativeNode(), propKey, prevProps[propKey]);\n      }\n    }\n\n    for (propKey in nextProps) {\n      let nextProp = nextProps[propKey];\n      let prevProp =\n        propKey === STYLE ? this._prevStyleCopy :\n        prevProps != null ? prevProps[propKey] : undefined;\n      if (propKey === CHILDREN ||\n          !nextProps.hasOwnProperty(propKey) ||\n          nextProp === prevProp ||\n          nextProp == null && prevProp == null) {\n        continue;\n      }\n      // Update style\n      if (propKey === STYLE) {\n        if (nextProp) {\n          // Clone property\n          nextProp = this._prevStyleCopy = Object.assign({}, nextProp);\n        } else {\n          this._prevStyleCopy = null;\n        }\n\n        if (prevProp != null) {\n          // Unset styles on `prevProp` but not on `nextProp`.\n          for (styleName in prevProp) {\n            if (prevProp.hasOwnProperty(styleName) &&\n                (!nextProp || !nextProp.hasOwnProperty(styleName))) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = '';\n            }\n          }\n          // Update styles that changed since `prevProp`.\n          for (styleName in nextProp) {\n            if (nextProp.hasOwnProperty(styleName) &&\n                prevProp[styleName] !== nextProp[styleName]) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = nextProp[styleName];\n            }\n          }\n        } else {\n          // Assign next prop when prev style is null\n          styleUpdates = nextProp;\n        }\n\n      // Update event binding\n      } else if (EVENT_PREFIX_REGEXP.test(propKey)) {\n        if (typeof prevProp === 'function') {\n          Host.driver.removeEventListener(this.getNativeNode(), propKey.slice(2).toLowerCase(), prevProp);\n        }\n\n        if (typeof nextProp === 'function') {\n          Host.driver.addEventListener(this.getNativeNode(), propKey.slice(2).toLowerCase(), nextProp);\n        }\n      // Update other property\n      } else {\n        let payload = {};\n        payload[propKey] = nextProp;\n        if (nextProp != null) {\n          Host.driver.setAttribute(this.getNativeNode(), propKey, nextProp);\n        } else {\n          Host.driver.removeAttribute(this.getNativeNode(), propKey, prevProps[propKey]);\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          Host.measurer && Host.measurer.recordOperation({\n            instanceID: this._mountID,\n            type: 'update attribute',\n            payload: payload\n          });\n        }\n      }\n    }\n\n    if (styleUpdates) {\n      if (process.env.NODE_ENV !== 'production') {\n        Host.measurer && Host.measurer.recordOperation({\n          instanceID: this._mountID,\n          type: 'update style',\n          payload: styleUpdates\n        });\n      }\n      Host.driver.setStyles(this.getNativeNode(), styleUpdates);\n    }\n  }\n\n  updateChildren(nextChildrenElements, context) {\n    // prev rendered children\n    let prevChildren = this._renderedChildren;\n\n    if (nextChildrenElements == null && prevChildren == null) {\n      return;\n    }\n\n    let nextChildren = {};\n    let oldNodes = {};\n\n    if (nextChildrenElements != null) {\n      if (!Array.isArray(nextChildrenElements)) {\n        nextChildrenElements = [nextChildrenElements];\n      }\n\n      // Update next children elements\n      for (let index = 0, length = nextChildrenElements.length; index < length; index++) {\n        let nextElement = nextChildrenElements[index];\n        let name = getElementKeyName(nextChildren, nextElement, index);\n        let prevChild = prevChildren && prevChildren[name];\n        let prevElement = prevChild && prevChild._currentElement;\n\n        if (prevChild != null && shouldUpdateComponent(prevElement, nextElement)) {\n          // Pass the same context when updating chidren\n          prevChild.updateComponent(prevElement, nextElement, context, context);\n          nextChildren[name] = prevChild;\n        } else {\n          // Unmount the prevChild when nextChild is different element type.\n          if (prevChild) {\n            let oldNativeNode = prevChild.getNativeNode();\n            // Delay remove child\n            prevChild.unmountComponent(true);\n            oldNodes[name] = oldNativeNode;\n          }\n          // The child must be instantiated before it's mounted.\n          nextChildren[name] = instantiateComponent(nextElement);\n        }\n      }\n    }\n\n    let firstPrevChild;\n    let delayRemoveFirstPrevChild;\n    // Unmount children that are no longer present.\n    if (prevChildren != null) {\n      for (let name in prevChildren) {\n        if (!prevChildren.hasOwnProperty(name)) {\n          continue;\n        }\n\n        let prevChild = prevChildren[name];\n        let shouldRemove = !nextChildren[name];\n\n        // Store old first child ref for append node ahead and maybe delay remove it\n        if (!firstPrevChild) {\n          firstPrevChild = prevChild;\n          delayRemoveFirstPrevChild = shouldRemove;\n        } else if (shouldRemove) {\n          prevChild.unmountComponent();\n        }\n      }\n    }\n\n    if (nextChildren != null) {\n      // `nextIndex` will increment for each child in `nextChildren`, but\n      // `lastIndex` will be the last index visited in `prevChildren`.\n      let lastIndex = 0;\n      let nextIndex = 0;\n      let lastPlacedNode = null;\n      let nextNativeNode = [];\n\n      for (let name in nextChildren) {\n        if (!nextChildren.hasOwnProperty(name)) {\n          continue;\n        }\n\n        let nextChild = nextChildren[name];\n        let prevChild = prevChildren && prevChildren[name];\n\n        if (prevChild === nextChild) {\n          let prevChildNativeNode = prevChild.getNativeNode();\n          // Convert to array type\n          if (!Array.isArray(prevChildNativeNode)) {\n            prevChildNativeNode = [prevChildNativeNode];\n          }\n\n          // If the index of `child` is less than `lastIndex`, then it needs to\n          // be moved. Otherwise, we do not need to move it because a child will be\n          // inserted or moved before `child`.\n          if (prevChild._mountIndex < lastIndex) {\n            // Get the last child\n            if (Array.isArray(lastPlacedNode)) {\n              lastPlacedNode = lastPlacedNode[lastPlacedNode.length - 1];\n            }\n\n            for (let i = prevChildNativeNode.length - 1; i >= 0; i--) {\n              Host.driver.insertAfter(prevChildNativeNode[i], lastPlacedNode);\n            }\n          }\n\n          nextNativeNode = nextNativeNode.concat(prevChildNativeNode);\n\n          lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n          prevChild._mountIndex = nextIndex;\n        } else {\n          if (prevChild != null) {\n            // Update `lastIndex` before `_mountIndex` gets unset by unmounting.\n            lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n          }\n\n          let parent = this.getNativeNode();\n          // Fragment extended native component, so if parent is fragment should get this._parent\n          if (Array.isArray(parent)) {\n            parent = this._parent;\n          }\n\n          nextChild.mountComponent(\n            parent,\n            context,\n            (newChild, parent) => {\n              // TODO: Rework the duplicate code\n              let oldChild = oldNodes[name];\n              if (!Array.isArray(newChild)) {\n                newChild = [newChild];\n              }\n\n              if (oldChild) {\n                // The oldChild or newChild all maybe fragment\n                if (!Array.isArray(oldChild)) {\n                  oldChild = [oldChild];\n                }\n\n                // If newChild count large then oldChild\n                let lastNewChild;\n                for (let i = 0; i < newChild.length; i++) {\n                  let child = newChild[i];\n                  if (oldChild[i]) {\n                    Host.driver.replaceChild(child, oldChild[i]);\n                  } else {\n                    Host.driver.insertAfter(child, lastNewChild);\n                  }\n                  lastNewChild = child;\n                }\n\n                // If newChild count less then oldChild\n                if (newChild.length < oldChild.length) {\n                  for (let i = newChild.length; i < oldChild.length; i++) {\n                    Host.driver.removeChild(oldChild[i]);\n                  }\n                }\n              } else {\n                // Insert child at a specific index\n\n                // Get the last child\n                if (Array.isArray(lastPlacedNode)) {\n                  lastPlacedNode = lastPlacedNode[lastPlacedNode.length - 1];\n                }\n\n                let prevFirstNativeNode;\n\n                if (firstPrevChild && !lastPlacedNode) {\n                  prevFirstNativeNode = firstPrevChild.getNativeNode();\n                  if (Array.isArray(prevFirstNativeNode)) {\n                    prevFirstNativeNode = prevFirstNativeNode[0];\n                  }\n                }\n\n                for (let i = newChild.length - 1; i >= 0; i--) {\n                  let child = newChild[i];\n                  if (lastPlacedNode) {\n                    Host.driver.insertAfter(child, lastPlacedNode);\n                  } else if (prevFirstNativeNode) {\n                    Host.driver.insertBefore(child, prevFirstNativeNode);\n                  } else {\n                    Host.driver.appendChild(child, parent);\n                  }\n                }\n              }\n\n              nextNativeNode = nextNativeNode.concat(newChild);\n            }\n          );\n          nextChild._mountIndex = nextIndex;\n        }\n\n        nextIndex++;\n        lastPlacedNode = nextChild.getNativeNode();\n      }\n\n      // Sync update native refs\n      if (Array.isArray(this._nativeNode)) {\n        // Clear all and push the new array\n        this._nativeNode.splice(0, this._nativeNode.length);\n        for (let i = 0; i < nextNativeNode.length; i++) {\n          this._nativeNode.push(nextNativeNode[i]);\n        }\n      }\n    }\n\n    if (delayRemoveFirstPrevChild) {\n      firstPrevChild.unmountComponent();\n    }\n\n    this._renderedChildren = nextChildren;\n  }\n\n  getNativeNode() {\n    if (this._nativeNode == null) {\n      this._nativeNode = Host.driver.createElement(this._instance);\n      instance.set(this._nativeNode, this._instance);\n    }\n\n    return this._nativeNode;\n  }\n\n  getPublicInstance() {\n    return this.getNativeNode();\n  }\n\n  getName() {\n    return this._currentElement.type;\n  }\n}\n\nexport default NativeComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/native.js","/*\n * Ref manager\n */\n\nexport default {\n  update(prevElement, nextElement, component) {\n    let prevRef = prevElement != null && prevElement.ref;\n    let nextRef = nextElement != null && nextElement.ref;\n\n    // Update refs in owner component\n    if (prevRef !== nextRef) {\n      // Detach prev RenderedElement's ref\n      prevRef != null && this.detach(prevElement._owner, prevRef, component);\n      // Attach next RenderedElement's ref\n      nextRef != null && this.attach(nextElement._owner, nextRef, component);\n    }\n  },\n  attach(ownerComponent, ref, component) {\n    if (!ownerComponent) {\n      throw new Error(\n        'You might be adding a ref to a component that was not created inside a component\\'s ' +\n        '`render` method, or you have multiple copies of Rax loaded.'\n      );\n    }\n\n    let instance = component.getPublicInstance();\n    if (typeof ref === 'function') {\n      ref(instance);\n    } else {\n      ownerComponent._instance.refs[ref] = instance;\n    }\n  },\n  detach(ownerComponent, ref, component) {\n    if (typeof ref === 'function') {\n      // When the referenced component is unmounted and whenever the ref changes, the old ref will be called with null as an argument.\n      ref(null);\n    } else {\n      // Must match component and ref could detach the ref on owner when A's before ref is B's current ref\n      let instance = component.getPublicInstance();\n      if (ownerComponent._instance.refs[ref] === instance) {\n        delete ownerComponent._instance.refs[ref];\n      }\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/ref.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isRem = isRem;\nexports.calcRem = calcRem;\nexports.getRem = getRem;\nexports.setRem = setRem;\nexports.isUnitNumber = isUnitNumber;\nexports.convertUnit = convertUnit;\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\nvar UNITLESS_NUMBER_PROPS = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  // We make lineHeight default is px that is diff with w3c spec\n  // lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // Weex only\n  lines: true\n};\nvar SUFFIX = 'rem';\nvar REM_REG = /[-+]?\\d*\\.?\\d+rem/g;\n\nvar defaultRem = void 0;\n\n/**\n * Is string contains rem\n * @param {String} str\n * @returns {Boolean}\n */\nfunction isRem(str) {\n  return typeof str === 'string' && str.indexOf(SUFFIX) !== -1;\n}\n\n/**\n * Calculate rem to pixels: '1.2rem' => 1.2 * rem\n * @param {String} str\n * @param {Number} rem\n * @returns {number}\n */\nfunction calcRem(str) {\n  var rem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultRem;\n\n  return str.replace(REM_REG, function (remValue) {\n    return parseFloat(remValue) * rem + 'px';\n  });\n}\n\nfunction getRem() {\n  return defaultRem;\n}\n\nfunction setRem(rem) {\n  defaultRem = rem;\n}\n\nfunction isUnitNumber(val, prop) {\n  return typeof val === 'number' && !UNITLESS_NUMBER_PROPS[prop];\n}\n\nfunction convertUnit(val, prop) {\n  if (prop && isUnitNumber(val, prop)) {\n    return val * defaultRem + 'px';\n  } else if (isRem(val)) {\n    return calcRem(val);\n  }\n\n  return val;\n}\n\n\n// WEBPACK FOOTER //\n// ./packages/style-unit/lib/index.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformPropsAttrsToStyle = transformPropsAttrsToStyle;\nexports.renamePropsAttr = renamePropsAttr;\n/**\n * transformPropAttrsToStyle\n *\n * @param {Object} props\n * @param {Array} attrs\n */\nfunction transformPropsAttrsToStyle(props, attrs) {\n  props.style = props.style || {};\n\n  attrs.forEach(function (attr) {\n    if (props[attr] && !props.style[attr]) {\n      props.style[attr] = props[attr];\n      delete props[attr];\n    }\n  });\n\n  return props;\n};\n\n/**\n * renamePropsAttr\n *\n * @param {Object} props\n * @param {String} originalAttrName\n * @param {String} newAttrName\n */\nfunction renamePropsAttr(props, originalAttrName, newAttrName) {\n  if (props[originalAttrName] && !props[newAttrName]) {\n    props[newAttrName] = props[originalAttrName];\n    delete props[originalAttrName];\n  }\n\n  return props;\n}\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/parseProps.js","import Hook from './hook';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject === 'function') {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.inject(Hook);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/debug/devtools.js","import instance from './vdom/instance';\n\nfunction findComponentInstance(node) {\n  if (node == null) {\n    return null;\n  }\n  return instance.get(node);\n}\n\nexport default findComponentInstance;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/findComponentInstance.js","/*\n * Current PropTypes only export some api with react, not validate in runtime.\n */\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    return typeChecker;\n  }\n\n  let chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createTypeChecker(expectedType) {\n  function validate(props, propName, componentName, location, propFullName) {\n    // Noop\n  }\n  return createChainableTypeChecker(validate);\n}\n\nlet typeChecker = createTypeChecker();\n\nexport default {\n  array: typeChecker,\n  bool: typeChecker,\n  func: typeChecker,\n  number: typeChecker,\n  object: typeChecker,\n  string: typeChecker,\n  symbol: typeChecker,\n  element: typeChecker,\n  node: typeChecker,\n  any: typeChecker,\n  arrayOf: typeChecker,\n  instanceOf: typeChecker,\n  objectOf: typeChecker,\n  oneOf: typeChecker,\n  oneOfType: typeChecker,\n  shape: typeChecker,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/proptypes.js","import Component from './component';\n\n/**\n * Pure component class.\n */\nclass PureComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  isPureComponentClass() {}\n}\n\nexport default PureComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/purecomponent.js","import inject from './inject';\nimport instance from './vdom/instance';\nimport Host from './vdom/host';\n\nfunction render(element, container, options, callback) {\n  // Compatible with `render(element, container, callback)`\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n\n  // Init inject\n  inject(options || {});\n\n  let rootComponent = instance.render(element, container);\n  let component = rootComponent.getPublicInstance();\n\n  if (callback) {\n    callback.call(component);\n  }\n\n  return component;\n}\n\nexport default render;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/render.js","export default '0.3.6';\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/version.js","/**\n * Web Browser driver\n **/\n\nimport setNativeProps from '../setNativeProps';\nimport {convertUnit, setRem} from 'style-unit';\nimport flexbox from '../style/flexbox';\n\nconst FULL_WIDTH_REM = 750;\nconst STYLE = 'style';\nconst DANGEROUSLY_SET_INNER_HTML = 'dangerouslySetInnerHTML';\nconst CLASS_NAME = 'className';\nconst CLASS = 'class';\n\nconst Driver = {\n  getElementById(id) {\n    return document.getElementById(id);\n  },\n\n  getParentNode(node) {\n    return node.parentNode;\n  },\n\n  createBody() {\n    return document.body;\n  },\n\n  createComment(content) {\n    return document.createComment(content);\n  },\n\n  createEmpty() {\n    return this.createComment(' empty ');\n  },\n\n  createText(text) {\n    return document.createTextNode(text);\n  },\n\n  updateText(node, text) {\n    let textContentAttr = 'textContent' in document ? 'textContent' : 'nodeValue';\n    node[textContentAttr] = text;\n  },\n\n  createElement(component) {\n    let node = document.createElement(component.type);\n    let props = component.props;\n\n    setNativeProps(node, props);\n\n    return node;\n  },\n\n  appendChild(node, parent) {\n    return parent.appendChild(node);\n  },\n\n  removeChild(node, parent) {\n    parent = parent || node.parentNode;\n    // Maybe has been removed when remove child\n    if (parent) {\n      parent.removeChild(node);\n    }\n  },\n\n  replaceChild(newChild, oldChild, parent) {\n    parent = parent || oldChild.parentNode;\n    parent.replaceChild(newChild, oldChild);\n  },\n\n  insertAfter(node, after, parent) {\n    parent = parent || after.parentNode;\n    const nextSibling = after.nextSibling;\n    if (nextSibling) {\n      parent.insertBefore(node, nextSibling);\n    } else {\n      parent.appendChild(node);\n    }\n  },\n\n  insertBefore(node, before, parent) {\n    parent = parent || before.parentNode;\n    parent.insertBefore(node, before);\n  },\n\n  addEventListener(node, eventName, eventHandler) {\n    return node.addEventListener(eventName, eventHandler);\n  },\n\n  removeEventListener(node, eventName, eventHandler) {\n    return node.removeEventListener(eventName, eventHandler);\n  },\n\n  removeAllEventListeners(node) {\n    // noop\n  },\n\n  removeAttribute(node, propKey) {\n    if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      return node.innerHTML = null;\n    }\n\n    if (propKey === CLASS_NAME) {\n      propKey = CLASS;\n    }\n\n    if (propKey in node) {\n      node[propKey] = null;\n    }\n\n    node.removeAttribute(propKey);\n  },\n\n  setAttribute(node, propKey, propValue) {\n    if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      return node.innerHTML = propValue.__html;\n    }\n\n    if (propKey === CLASS_NAME) {\n      propKey = CLASS;\n    }\n\n    if (propKey in node) {\n      node[propKey] = propValue;\n    } else {\n      node.setAttribute(propKey, propValue);\n    }\n  },\n\n  setStyles(node, styles) {\n    let tranformedStyles = {};\n\n    for (let prop in styles) {\n      let val = styles[prop];\n      if (flexbox.isFlexProp(prop)) {\n        flexbox[prop](val, tranformedStyles);\n      } else {\n        tranformedStyles[prop] = convertUnit(val, prop);\n      }\n    }\n\n    for (let prop in tranformedStyles) {\n      const transformValue = tranformedStyles[prop];\n      // hack handle compatibility issue\n      if (Array.isArray(transformValue)) {\n        for (let i = 0; i < transformValue.length; i++) {\n          node.style[prop] = transformValue[i];\n        }\n      } else {\n        node.style[prop] = transformValue;\n      }\n    }\n  },\n\n  beforeRender() {\n    // Init rem unit\n    setRem(this.getWindowWidth() / FULL_WIDTH_REM);\n  },\n\n  getWindowWidth() {\n    return document.documentElement.clientWidth;\n  },\n};\n\nexport default Driver;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/drivers/browser.js","/**\n * Weex driver\n **/\nexport default from 'weex-driver';\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/drivers/weex.js","import './debug/devtools';\nimport {createElement, cloneElement, isValidElement, createFactory} from './element';\n\nexport {createElement, cloneElement, isValidElement, createFactory};\nexport Component from './component';\nexport PureComponent from './purecomponent';\nexport PropTypes from './proptypes';\nexport render from './render';\nexport findDOMNode from './findDOMNode';\nexport unmountComponentAtNode from './unmountComponentAtNode';\nexport findComponentInstance from './findComponentInstance';\nexport setNativeProps from './setNativeProps';\nexport version from './version';\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/index.js","import {isWeb, isWeex} from 'universal-env';\nimport Host from './vdom/host';\nimport EmptyComponent from './vdom/empty';\nimport NativeComponent from './vdom/native';\nimport TextComponent from './vdom/text';\nimport CompositeComponent from './vdom/composite';\nimport FragmentComponent from './vdom/fragment';\nimport WeexDriver from './drivers/weex';\nimport BrowserDriver from './drivers/browser';\nimport Hook from './debug/hook';\n\nexport default function inject({driver, hook, measurer}) {\n  // Inject component class\n  Host.EmptyComponent = EmptyComponent;\n  Host.NativeComponent = NativeComponent;\n  Host.TextComponent = TextComponent;\n  Host.FragmentComponent = FragmentComponent;\n  Host.CompositeComponent = CompositeComponent;\n  // Inject devtool hook\n  Host.hook = hook || Hook;\n\n  // Inject performance measurer\n  Host.measurer = measurer;\n\n  // Inject render driver\n  if (!Host.driver) {\n    if (!driver) {\n      if (isWeex) {\n        driver = WeexDriver;\n      } else if (isWeb) {\n        driver = BrowserDriver;\n      } else {\n        throw Error('No builtin driver matched');\n      }\n    }\n\n    Host.driver = driver;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/inject.js","const BOX_ALIGN = {\n  stretch: 'stretch',\n  'flex-start': 'start',\n  'flex-end': 'end',\n  center: 'center'\n};\n\nconst BOX_ORIENT = {\n  row: 'horizontal',\n  column: 'vertical'\n};\n\nconst BOX_PACK = {\n  'flex-start': 'start',\n  'flex-end': 'end',\n  center: 'center',\n  'space-between': 'justify',\n  'space-around': 'justify' // Just same as `space-between`\n};\n\nconst FLEX_PROPS = {\n  display: true,\n  flex: true,\n  alignItems: true,\n  alignSelf: true,\n  flexDirection: true,\n  justifyContent: true,\n  flexWrap: true,\n};\n\nlet Flexbox = {\n  isFlexProp(prop) {\n    return FLEX_PROPS[prop];\n  },\n  display(value, style = {}) {\n    if (value === 'flex') {\n      style.display = ['-webkit-box', '-webkit-flex', 'flex'];\n    } else {\n      style.display = value;\n    }\n\n    return style;\n  },\n  flex(value, style = {}) {\n    style.webkitBoxFlex = value;\n    style.webkitFlex = value;\n    style.flex = value;\n    return style;\n  },\n  flexWrap(value, style = {}) {\n    style.flexWrap = value;\n    return style;\n  },\n  alignItems(value, style = {}) {\n    style.webkitBoxAlign = BOX_ALIGN[value];\n    style.webkitAlignItems = value;\n    style.alignItems = value;\n    return style;\n  },\n  alignSelf(value, style = {}) {\n    style.webkitAlignSelf = value;\n    style.alignSelf = value;\n    return style;\n  },\n  flexDirection(value, style = {}) {\n    style.webkitBoxOrient = BOX_ORIENT[value];\n    style.webkitFlexDirection = value;\n    style.flexDirection = value;\n    return style;\n  },\n  justifyContent(value, style = {}) {\n    style.webkitBoxPack = BOX_PACK[value];\n    style.webkitJustifyContent = value;\n    style.justifyContent = value;\n    return style;\n  }\n};\n\nexport default Flexbox;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/style/flexbox.js","import StatelessComponent from './stateless';\nimport updater from './updater';\nimport Host from './host';\nimport Ref from './ref';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport shallowEqual from './shallowEqual';\n\nfunction performInSandbox(fn, handleError) {\n  try {\n    return fn();\n  } catch (e) {\n    if (handleError) {\n      handleError(e);\n    } else {\n      if (Host.sandbox) {\n        setTimeout(() => {\n          throw e;\n        }, 0);\n      } else {\n        throw e;\n      }\n    }\n  }\n}\n\nlet measureLifeCycle;\nif (process.env.NODE_ENV !== 'production') {\n  measureLifeCycle = function(callback, instanceID, type) {\n    Host.measurer && Host.measurer.beforeLifeCycle(instanceID, type);\n    performInSandbox(callback);\n    Host.measurer && Host.measurer.afterLifeCycle(instanceID, type);\n  };\n}\n\n/**\n * Composite Component\n */\nclass CompositeComponent {\n  constructor(element) {\n    this._currentElement = element;\n  }\n\n  getName() {\n    let type = this._currentElement.type;\n    let constructor = this._instance && this._instance.constructor;\n    return (\n      type.displayName || constructor && constructor.displayName ||\n      type.name || constructor && constructor.name ||\n      null\n    );\n  }\n\n  mountComponent(parent, context, childMounter) {\n    this._parent = parent;\n    this._context = context;\n    this._mountID = Host.mountID++;\n    this._updateCount = 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeMountComponent(this._mountID, this);\n    }\n\n    let Component = this._currentElement.type;\n    let publicProps = this._currentElement.props;\n    let isClass = Component.prototype;\n    let isComponentClass = isClass && Component.prototype.isComponentClass;\n    // Class stateless component without state but have lifecycles\n    let isStatelessClass = isClass && Component.prototype.render;\n\n    // Context process\n    let publicContext = this._processContext(context);\n\n    // Initialize the public class\n    let instance;\n    let renderedElement;\n\n    if (isComponentClass || isStatelessClass) {\n      // Component instance\n      instance = new Component(publicProps, publicContext, updater);\n    } else if (typeof Component === 'function') {\n      // Functional stateless component without state and lifecycles\n      instance = new StatelessComponent(Component);\n    } else {\n      throw Error(`Invalid component type ${JSON.stringify(Component)}`);\n    }\n\n    // These should be set up in the constructor, but as a convenience for\n    // simpler class abstractions, we set them up after the fact.\n    instance.props = publicProps;\n    instance.context = publicContext;\n    instance.refs = {};\n\n    // Inject the updater into instance\n    instance.updater = updater;\n    instance._internal = this;\n    this._instance = instance;\n\n    // Init state, must be set to an object or null\n    let initialState = instance.state;\n    if (initialState === undefined) {\n      // TODO clone the state?\n      instance.state = initialState = null;\n    }\n\n    performInSandbox(() => {\n      if (instance.componentWillMount) {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            instance.componentWillMount();\n          }, this._mountID, 'componentWillMount');\n        } else {\n          instance.componentWillMount();\n        }\n      }\n    });\n\n    if (renderedElement == null) {\n      Host.component = this;\n      // Process pending state when call setState in componentWillMount\n      instance.state = this._processPendingState(publicProps, publicContext);\n\n      // FIXME: handleError should named as lifecycles\n      let handleError;\n      if (typeof instance.handleError === 'function') {\n        handleError = (e) => {\n          instance.handleError(e);\n        };\n      }\n\n      performInSandbox(() => {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            renderedElement = instance.render();\n          }, this._mountID, 'render');\n        } else {\n          renderedElement = instance.render();\n        }\n      }, handleError);\n\n      Host.component = null;\n    }\n\n    this._renderedComponent = instantiateComponent(renderedElement);\n    this._renderedComponent.mountComponent(\n      this._parent,\n      this._processChildContext(context),\n      childMounter\n    );\n\n    if (this._currentElement && this._currentElement.ref) {\n      Ref.attach(this._currentElement._owner, this._currentElement.ref, this);\n    }\n\n    performInSandbox(() => {\n      if (instance.componentDidMount) {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            instance.componentDidMount();\n          }, this._mountID, 'componentDidMount');\n        } else {\n          instance.componentDidMount();\n        }\n      }\n    });\n\n    Host.hook.Reconciler.mountComponent(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.afterMountComponent(this._mountID);\n    }\n\n    return instance;\n  }\n\n  unmountComponent(notRemoveChild) {\n    let instance = this._instance;\n\n    performInSandbox(() => {\n      if (instance.componentWillUnmount) {\n        instance.componentWillUnmount();\n      }\n    });\n\n    Host.hook.Reconciler.unmountComponent(this);\n\n    instance._internal = null;\n\n    if (this._renderedComponent != null) {\n      let ref = this._currentElement.ref;\n      if (ref) {\n        Ref.detach(this._currentElement._owner, ref, this);\n      }\n\n      this._renderedComponent.unmountComponent(notRemoveChild);\n      this._renderedComponent = null;\n      this._instance = null;\n    }\n\n    this._currentElement = null;\n\n    // Reset pending fields\n    // Even if this component is scheduled for another update in ReactUpdates,\n    // it would still be ignored because these fields are reset.\n    this._pendingStateQueue = null;\n    this._pendingForceUpdate = false;\n\n    // These fields do not really need to be reset since this object is no\n    // longer accessible.\n    this._context = null;\n  }\n\n  /**\n   * Filters the context object to only contain keys specified in\n   * `contextTypes`\n   */\n  _processContext(context) {\n    let Component = this._currentElement.type;\n    let contextTypes = Component.contextTypes;\n    if (!contextTypes) {\n      return {};\n    }\n    let maskedContext = {};\n    for (let contextName in contextTypes) {\n      maskedContext[contextName] = context[contextName];\n    }\n    return maskedContext;\n  }\n\n  _processChildContext(currentContext) {\n    let instance = this._instance;\n    let childContext = instance.getChildContext && instance.getChildContext();\n    if (childContext) {\n      return Object.assign({}, currentContext, childContext);\n    }\n    return currentContext;\n  }\n\n  _processPendingState(props, context) {\n    let instance = this._instance;\n    let queue = this._pendingStateQueue;\n    if (!queue) {\n      return instance.state;\n    }\n    // Reset pending queue\n    this._pendingStateQueue = null;\n    let nextState = Object.assign({}, instance.state);\n    for (let i = 0; i < queue.length; i++) {\n      let partial = queue[i];\n      Object.assign(\n        nextState,\n        typeof partial === 'function' ?\n        partial.call(instance, nextState, props, context) :\n        partial\n      );\n    }\n\n    return nextState;\n  }\n\n  updateComponent(\n    prevElement,\n    nextElement,\n    prevUnmaskedContext,\n    nextUnmaskedContext\n  ) {\n    let instance = this._instance;\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeUpdateComponent(this._mountID, this);\n    }\n\n    if (!instance) {\n      console.error(\n        `Update component '${this.getName()}' that has already been unmounted (or failed to mount).`\n      );\n    }\n\n    let willReceive = false;\n    let nextContext;\n    let nextProps;\n\n    // Determine if the context has changed or not\n    if (this._context === nextUnmaskedContext) {\n      nextContext = instance.context;\n    } else {\n      nextContext = this._processContext(nextUnmaskedContext);\n      willReceive = true;\n    }\n\n    // Distinguish between a props update versus a simple state update\n    if (prevElement === nextElement) {\n      // Skip checking prop types again -- we don't read component.props to avoid\n      // warning for DOM component props in this upgrade\n      nextProps = nextElement.props;\n    } else {\n      nextProps = nextElement.props;\n      willReceive = true;\n    }\n\n    let hasReceived = willReceive && instance.componentWillReceiveProps;\n\n    if (hasReceived) {\n      // Calling this.setState() within componentWillReceiveProps will not trigger an additional render.\n      this._pendingState = true;\n      performInSandbox(() => {\n        instance.componentWillReceiveProps(nextProps, nextContext);\n      });\n      this._pendingState = false;\n    }\n\n    // Update refs\n    Ref.update(prevElement, nextElement, this);\n\n    // Shoud update always default\n    let shouldUpdate = true;\n    let prevProps = instance.props;\n    let prevState = instance.state;\n    // TODO: could delay execution processPendingState\n    let nextState = this._processPendingState(nextProps, nextContext);\n\n    // ShouldComponentUpdate is not called when forceUpdate is used\n    if (!this._pendingForceUpdate) {\n      if (instance.shouldComponentUpdate) {\n        shouldUpdate = performInSandbox(() => {\n          return instance.shouldComponentUpdate(nextProps, nextState,\n            nextContext);\n        });\n      } else if (instance.isPureComponentClass) {\n        shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(\n          prevState, nextState);\n      }\n    }\n\n    if (shouldUpdate) {\n      this._pendingForceUpdate = false;\n      // Will set `this.props`, `this.state` and `this.context`.\n      let prevContext = instance.context;\n\n      // Cannot use this.setState() in componentWillUpdate.\n      // If need to update state in response to a prop change, use componentWillReceiveProps instead.\n      performInSandbox(() => {\n        if (instance.componentWillUpdate) {\n          instance.componentWillUpdate(nextProps, nextState, nextContext);\n        }\n      });\n\n      // Replace with next\n      this._currentElement = nextElement;\n      this._context = nextUnmaskedContext;\n      instance.props = nextProps;\n      instance.state = nextState;\n      instance.context = nextContext;\n\n      this._updateRenderedComponent(nextUnmaskedContext);\n\n      performInSandbox(() => {\n        if (instance.componentDidUpdate) {\n          instance.componentDidUpdate(prevProps, prevState, prevContext);\n        }\n      });\n\n      this._updateCount++;\n    } else {\n      // If it's determined that a component should not update, we still want\n      // to set props and state but we shortcut the rest of the update.\n      this._currentElement = nextElement;\n      this._context = nextUnmaskedContext;\n      instance.props = nextProps;\n      instance.state = nextState;\n      instance.context = nextContext;\n    }\n\n    // Flush setState callbacks set in componentWillReceiveProps\n    if (hasReceived) {\n      let callbacks = this._pendingCallbacks;\n      this._pendingCallbacks = null;\n      updater.runCallbacks(callbacks, instance);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.afterUpdateComponent(this._mountID);\n    }\n\n    Host.hook.Reconciler.receiveComponent(this);\n  }\n\n  /**\n   * Call the component's `render` method and update the DOM accordingly.\n   */\n  _updateRenderedComponent(context) {\n    let prevRenderedComponent = this._renderedComponent;\n    let prevRenderedElement = prevRenderedComponent._currentElement;\n\n    let instance = this._instance;\n    let nextRenderedElement;\n\n    Host.component = this;\n\n    performInSandbox(() => {\n      if (process.env.NODE_ENV !== 'production') {\n        measureLifeCycle(() => {\n          nextRenderedElement = instance.render();\n        }, this._mountID, 'render');\n      } else {\n        nextRenderedElement = instance.render();\n      }\n    });\n\n    Host.component = null;\n\n    if (shouldUpdateComponent(prevRenderedElement, nextRenderedElement)) {\n      prevRenderedComponent.updateComponent(\n        prevRenderedElement,\n        nextRenderedElement,\n        prevRenderedComponent._context,\n        this._processChildContext(context)\n      );\n      if (process.env.NODE_ENV !== 'production') {\n        Host.measurer && Host.measurer.recordOperation({\n          instanceID: this._mountID,\n          type: 'update component',\n          payload: {}\n        });\n      }\n    } else {\n      let oldChild = prevRenderedComponent.getNativeNode();\n      prevRenderedComponent.unmountComponent(true);\n\n      this._renderedComponent = instantiateComponent(nextRenderedElement);\n      this._renderedComponent.mountComponent(\n        this._parent,\n        this._processChildContext(context),\n        (newChild, parent) => {\n          // TODO: Duplicate code in native component file\n          if (!Array.isArray(newChild)) {\n            newChild = [newChild];\n          }\n\n          // oldChild or newChild all maybe fragment\n          if (!Array.isArray(oldChild)) {\n            oldChild = [oldChild];\n          }\n\n          // If newChild count large then oldChild\n          let lastNewChild;\n          for (let i = 0; i < newChild.length; i++) {\n            let child = newChild[i];\n            if (oldChild[i]) {\n              Host.driver.replaceChild(child, oldChild[i]);\n            } else {\n              Host.driver.insertAfter(child, lastNewChild);\n            }\n            lastNewChild = child;\n          }\n\n          // If newChild count less then oldChild\n          if (newChild.length < oldChild.length) {\n            for (let i = newChild.length; i < oldChild.length; i++) {\n              Host.driver.removeChild(oldChild[i]);\n            }\n          }\n        }\n      );\n    }\n  }\n\n  getNativeNode() {\n    let renderedComponent = this._renderedComponent;\n    if (renderedComponent) {\n      return renderedComponent.getNativeNode();\n    }\n  }\n\n  getPublicInstance() {\n    let instance = this._instance;\n    // The Stateless components cannot be given refs\n    if (instance instanceof StatelessComponent) {\n      return null;\n    }\n    return instance;\n  }\n}\n\nexport default CompositeComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/composite.js","import Host from './host';\n\n/**\n * Empty Component\n */\nclass EmptyComponent {\n  constructor() {\n    this._currentElement = null;\n  }\n\n  mountComponent(parent, context, childMounter) {\n    this._parent = parent;\n    this._context = context;\n\n    let instance = {\n      _internal: this\n    };\n\n    let nativeNode = this.getNativeNode();\n    if (childMounter) {\n      childMounter(nativeNode, parent);\n    } else {\n      Host.driver.appendChild(nativeNode, parent);\n    }\n\n    return instance;\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode && !notRemoveChild) {\n      Host.driver.removeChild(this._nativeNode, this._parent);\n    }\n\n    this._nativeNode = null;\n    this._parent = null;\n    this._context = null;\n  }\n\n  updateComponent() {\n    // Noop\n  }\n\n  getNativeNode() {\n    // Weex native node\n    if (this._nativeNode == null) {\n      this._nativeNode = Host.driver.createEmpty();\n    }\n\n    return this._nativeNode;\n  }\n}\n\nexport default EmptyComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/empty.js","import Host from './host';\nimport NativeComponent from './native';\nimport instance from './instance';\nimport instantiateComponent from './instantiateComponent';\nimport getElementKeyName from './getElementKeyName';\n\n/**\n * Fragment Component\n */\nclass FragmentComponent extends NativeComponent {\n  constructor(element) {\n    super(element);\n  }\n\n  mountComponent(parent, context, childMounter) {\n    // Parent native element\n    this._parent = parent;\n    this._context = context;\n    this._mountID = Host.mountID++;\n\n    let instance = {\n      _internal: this,\n    };\n    this._instance = instance;\n\n    let fragment = this.getNativeNode();\n    let children = this._currentElement;\n\n    // Process children\n    this.mountChildren(children, context);\n\n    if (childMounter) {\n      childMounter(fragment, parent);\n    } else {\n      let isFragmentParent = Array.isArray(parent);\n      for (let i = 0; i < fragment.length; i++) {\n        let child = fragment[i];\n        // When the parent is also a fragment\n        if (isFragmentParent) {\n          parent.push(child);\n        } else {\n          Host.driver.appendChild(child, parent);\n        }\n      }\n    }\n\n    return instance;\n  }\n\n\n  mountChildren(children, context) {\n    let renderedChildren = {};\n    let fragment = this.getNativeNode();\n\n    let renderedChildrenImage = children.map( (element, index) => {\n      let renderedChild = instantiateComponent(element);\n      let name = getElementKeyName(renderedChildren, element, index);\n      renderedChildren[name] = renderedChild;\n      renderedChild._mountIndex = index;\n      // Mount\n      let mountImage = renderedChild.mountComponent(\n        this._parent,\n        context,\n        (nativeNode) => {\n          if (Array.isArray(nativeNode)) {\n            for (let i = 0; i < nativeNode.length; i++) {\n              fragment.push(nativeNode[i]);\n            }\n          } else {\n            fragment.push(nativeNode);\n          }\n        }\n      );\n      return mountImage;\n    });\n\n    this._renderedChildren = renderedChildren;\n\n    return renderedChildrenImage;\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode) {\n      instance.remove(this._nativeNode);\n      if (!notRemoveChild) {\n        for (let i = 0; i < this._nativeNode.length; i++) {\n          Host.driver.removeChild(this._nativeNode[i]);\n        }\n      }\n    }\n\n    // Do not need remove child when their parent is removed\n    this.unmountChildren(true);\n\n    this._currentElement = null;\n    this._nativeNode = null;\n    this._parent = null;\n    this._context = null;\n    this._instance = null;\n  }\n\n  updateComponent(prevElement, nextElement, prevContext, nextContext) {\n    // Replace current element\n    this._currentElement = nextElement;\n    this.updateChildren(this._currentElement, nextContext);\n  }\n\n  getNativeNode() {\n    if (this._nativeNode == null) {\n      this._nativeNode = [];\n    }\n\n    return this._nativeNode;\n  }\n\n  getPublicInstance() {\n    return this.getNativeNode();\n  }\n\n  getName() {\n    return 'fragment';\n  }\n}\n\nexport default FragmentComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/fragment.js","import Component from '../component';\n\nlet rootCounter = 1;\n\nclass Root extends Component {\n  rootID = rootCounter++;\n  isRootComponent() {}\n  render() {\n    return this.props.children;\n  }\n  getPublicInstance() {\n    return this.getRenderedComponent().getPublicInstance();\n  }\n  getRenderedComponent() {\n    return this._internal._renderedComponent;\n  }\n}\n\nexport default Root;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/root.js","const hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  let keysA = Object.keys(objA);\n  let keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default shallowEqual;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/shallowEqual.js","import Host from './host';\n\n/**\n * Stateless Component Class Wrapper\n */\nclass StatelessComponent {\n  constructor(pureRender) {\n    // A stateless function\n    this.pureRender = pureRender;\n  }\n  render() {\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeRender();\n    }\n\n    return this.pureRender(this.props, this.context);\n  }\n}\n\nexport default StatelessComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/stateless.js","import Host from './host';\n\n/**\n * Text Component\n */\nclass TextComponent {\n  constructor(element) {\n    this._currentElement = element;\n    this._stringText = String(element);\n  }\n\n  mountComponent(parent, context, childMounter) {\n    this._parent = parent;\n    this._context = context;\n    this._mountID = Host.mountID++;\n\n    // Weex dom operation\n    let nativeNode = this.getNativeNode();\n\n    if (childMounter) {\n      childMounter(nativeNode, parent);\n    } else {\n      Host.driver.appendChild(nativeNode, parent);\n    }\n\n    let instance = {\n      _internal: this\n    };\n\n    Host.hook.Reconciler.mountComponent(this);\n\n    return instance;\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode && !notRemoveChild) {\n      Host.driver.removeChild(this._nativeNode, this._parent);\n    }\n\n    Host.hook.Reconciler.unmountComponent(this);\n\n    this._currentElement = null;\n    this._nativeNode = null;\n    this._parent = null;\n    this._context = null;\n    this._stringText = null;\n  }\n\n  updateComponent(prevElement, nextElement, context) {\n    // If some text do noting\n    if (prevElement !== nextElement) {\n      // Replace current element\n      this._currentElement = nextElement;\n      // Devtool read the latest stringText value\n      this._stringText = String(nextElement);\n      Host.driver.updateText(this.getNativeNode(), this._stringText);\n      Host.hook.Reconciler.receiveComponent(this);\n    }\n  }\n\n  getNativeNode() {\n    if (this._nativeNode == null) {\n      this._nativeNode = Host.driver.createText(this._stringText);\n    }\n    return this._nativeNode;\n  }\n}\n\nexport default TextComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/text.js","function enqueueCallback(internal, callback) {\n  if (callback) {\n    let callbackQueue =\n      internal._pendingCallbacks ||\n      (internal._pendingCallbacks = []);\n    callbackQueue.push(callback);\n  }\n}\n\nfunction enqueueState(internal, partialState) {\n  if (partialState) {\n    let stateQueue =\n      internal._pendingStateQueue ||\n      (internal._pendingStateQueue = []);\n    stateQueue.push(partialState);\n  }\n}\n\nconst Updater = {\n  setState: function(component, partialState, callback) {\n    let internal = component._internal;\n\n    if (!internal) {\n      return;\n    }\n\n    enqueueState(internal, partialState);\n    enqueueCallback(internal, callback);\n\n    if (!internal._pendingState) {\n      this.runUpdate(component);\n    }\n  },\n\n  forceUpdate: function(component, callback) {\n    let internal = component._internal;\n\n    if (!internal) {\n      return;\n    }\n\n    internal._pendingForceUpdate = true;\n\n    enqueueCallback(internal, callback);\n    this.runUpdate(component);\n  },\n\n  runUpdate: function(component) {\n    let internal = component._internal;\n\n    if (!internal || !internal._renderedComponent) {\n      return;\n    }\n\n    // If updateComponent happens to enqueue any new updates, we\n    // shouldn't execute the callbacks until the next render happens, so\n    // stash the callbacks first\n    let callbacks = internal._pendingCallbacks;\n    internal._pendingCallbacks = null;\n\n    let prevElement = internal._currentElement;\n    let prevUnmaskedContext = internal._context;\n\n    if (internal._pendingStateQueue || internal._pendingForceUpdate) {\n      internal.updateComponent(\n        prevElement,\n        prevElement,\n        prevUnmaskedContext,\n        prevUnmaskedContext\n      );\n    }\n\n    this.runCallbacks(callbacks, component);\n  },\n\n  runCallbacks(callbacks, context) {\n    if (callbacks) {\n      for (let i = 0; i < callbacks.length; i++) {\n        callbacks[i].call(context);\n      }\n    }\n  }\n\n};\n\nexport default Updater;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/updater.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    component.type = 'div';\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/block.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * weex button\n *\n * props: disabled, style\n */\n\nexports.default = {\n  parse: function parse(component) {\n    var props = component.props;\n\n    component.type = 'text';\n\n    var style = props.style,\n        disabled = props.disabled,\n        children = props.children;\n\n\n    var textStyle = _extends({\n      textAlign: 'center',\n      fontSize: 22,\n      paddingTop: 4,\n      paddingRight: 12,\n      paddingBottom: 6,\n      paddingLeft: 12,\n      borderWidth: 4,\n      borderStyle: 'solid',\n      borderColor: '#000000',\n      backgroudColor: '#c0c0c0'\n    }, style);\n\n    if (disabled) {\n      props.onClick = null;\n      textStyle = _extends({}, textStyle, {\n        color: '#7f7f7f',\n        borderColor: '#7f7f7f'\n      });\n    }\n\n    if (typeof children === 'string') {\n      props.value = children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/button.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar BASE_FONT_SIZE = 28;\n\nfunction generateHeadingStyle(baseFontSize, fontMultiplier, marginMultiplier) {\n  return {\n    fontSize: baseFontSize * fontMultiplier,\n    marginTop: baseFontSize * fontMultiplier * marginMultiplier,\n    marginBottom: baseFontSize * fontMultiplier * marginMultiplier,\n    fontWeight: 'bold'\n  };\n}\n\nvar HeadingElements = {\n  h1: generateHeadingStyle(BASE_FONT_SIZE, 2, 0.67),\n  h2: generateHeadingStyle(BASE_FONT_SIZE, 1.5, 0.83),\n  h3: generateHeadingStyle(BASE_FONT_SIZE, 1.17, 1),\n  h4: generateHeadingStyle(BASE_FONT_SIZE, 1, 1.33),\n  h5: generateHeadingStyle(BASE_FONT_SIZE, 0.83, 1.67),\n  h6: generateHeadingStyle(BASE_FONT_SIZE, 0.67, 2.33)\n};\n\nexports.default = {\n  parse: function parse(component) {\n    var type = component.type,\n        props = component.props;\n\n\n    component.type = 'text';\n    props.style = _extends({}, HeadingElements[type] || HeadingElements.h6, props.style);\n\n    if (typeof props.children === 'string' && !props.value) {\n      props.value = props.children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/heading.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parseProps = require('../parseProps');\n\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    var props = component.props;\n\n    component.type = 'image';\n\n    // modify props\n    component.props = (0, _parseProps.transformPropsAttrsToStyle)(props, ['width', 'height']);\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/img.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _img = require('./img');\n\nvar _img2 = _interopRequireDefault(_img);\n\nvar _video = require('./video');\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _textarea = require('./textarea');\n\nvar _textarea2 = _interopRequireDefault(_textarea);\n\nvar _span = require('./span');\n\nvar _span2 = _interopRequireDefault(_span);\n\nvar _p = require('./p');\n\nvar _p2 = _interopRequireDefault(_p);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _heading = require('./heading');\n\nvar _heading2 = _interopRequireDefault(_heading);\n\nvar _block = require('./block');\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  span: _span2.default,\n  p: _p2.default,\n  img: _img2.default,\n  button: _button2.default,\n  video: _video2.default,\n  textarea: _textarea2.default,\n  h1: _heading2.default,\n  h2: _heading2.default,\n  h3: _heading2.default,\n  h4: _heading2.default,\n  h5: _heading2.default,\n  h6: _heading2.default,\n  nav: _block2.default,\n  article: _block2.default,\n  section: _block2.default,\n  // Conflict with weex header tag\n  // header: block,\n  footer: _block2.default,\n  aside: _block2.default,\n  main: _block2.default\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar BASE_FONT_SIZE = 28;\n\nvar defaultParagraphStyle = {\n  fontSize: BASE_FONT_SIZE,\n  marginTop: BASE_FONT_SIZE,\n  marginBottom: BASE_FONT_SIZE\n};\n\nvar TypographyElements = {\n  u: {\n    textDecoration: 'underline'\n  },\n  s: {\n    textDecoration: 'line-through'\n  },\n  i: {\n    fontStyle: 'italic'\n  },\n  b: {\n    fontWeight: 'bold'\n  },\n  del: {\n    textDecoration: 'line-through'\n  },\n  em: {\n    fontStyle: 'italic'\n  },\n  strong: {\n    fontWeight: 'bold'\n  },\n  big: {\n    fontSize: BASE_FONT_SIZE * 1.2\n  },\n  small: {\n    fontSize: BASE_FONT_SIZE * 0.8\n  }\n};\n\nfunction transformString(string) {\n  return {\n    type: 'span',\n    attr: {\n      value: string\n    }\n  };\n}\n\nfunction transformChild(child) {\n  var type = child.type;\n  var props = child.props;\n  var style = props.style;\n  var nestedChildren = props.children;\n  // Alias img tag\n  if (type === 'img') {\n    type = 'image';\n  }\n\n  // Transfrom to span\n  if (TypographyElements[type]) {\n    style = _extends({}, TypographyElements[type], style);\n    type = 'span';\n  }\n\n  props.style = null;\n  props.children = null;\n\n  var element = {\n    type: type,\n    style: style,\n    attr: props || {}\n  };\n\n  if (nestedChildren) {\n    if (type === 'span' && typeof nestedChildren === 'string') {\n      element.attr.value = nestedChildren;\n    } else {\n      element.children = transformChildren(nestedChildren);\n    }\n  }\n\n  return element;\n}\n\nfunction transformChildren(children) {\n  var elements = [];\n  if (!Array.isArray(children)) {\n    children = [children];\n  }\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    if (typeof child === 'string') {\n      elements.push(transformString(child));\n    } else if ((typeof child === 'undefined' ? 'undefined' : _typeof(child)) === 'object') {\n      elements.push(transformChild(child));\n    }\n  }\n\n  return elements;\n}\n\nexports.default = {\n  parse: function parse(component) {\n    var props = component.props;\n\n    var children = props.children;\n\n    component.type = 'richtext';\n\n    props.style = _extends({}, defaultParagraphStyle, props.style);\n\n    props.value = transformChildren(children);;\n    props.children = null;\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/p.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  parse: function parse(component) {\n    var props = component.props;\n\n    component.type = 'text';\n\n    if (typeof props.children === 'string' && !props.value) {\n      props.value = props.children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/span.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    var props = component.props;\n\n\n    if (typeof props.children === 'string' && !props.value) {\n      props.value = props.children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/textarea.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parseProps = require('../parseProps');\n\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    var props = component.props;\n\n    // modify props\n\n    component.props = (0, _parseProps.transformPropsAttrsToStyle)(props, ['width', 'height']);\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/elements/video.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * Weex driver\n                                                                                                                                                                                                                                                                               */\n\n\nvar _styleUnit = require('style-unit');\n\nvar _elements = require('./elements');\n\nvar _elements2 = _interopRequireDefault(_elements);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar STYLE = 'style';\nvar ID = 'id';\nvar TEXT = 'text';\nvar CHILDREN = 'children';\nvar EVENT_PREFIX_REGEXP = /^on[A-Z]/;\nvar FULL_WIDTH_REM = 750;\nvar ARIA_PREFIX_REGEXP = /^aria-/;\n\nvar nodeMaps = {};\n/* global __weex_document__ */\nvar document = (typeof __weex_document__ === 'undefined' ? 'undefined' : _typeof(__weex_document__)) === 'object' ? __weex_document__ : (typeof document === 'undefined' ? 'undefined' : _typeof(document)) === 'object' ? document : null;\n\nvar Driver = {\n  getElementById: function getElementById(id) {\n    return nodeMaps[id];\n  },\n  getParentNode: function getParentNode(node) {\n    return node.parentNode;\n  },\n  createBody: function createBody() {\n    if (document.body) {\n      return document.body;\n    }\n\n    var documentElement = document.documentElement;\n    var body = document.createBody();\n    documentElement.appendChild(body);\n\n    return body;\n  },\n  createComment: function createComment(content) {\n    return document.createComment(content);\n  },\n  createEmpty: function createEmpty() {\n    return this.createComment(' empty ');\n  },\n  createText: function createText(text) {\n    return Driver.createElement({\n      type: TEXT,\n      props: {\n        value: text\n      }\n    });\n  },\n  updateText: function updateText(node, content) {\n    this.setAttribute(node, 'value', content);\n  },\n  createElement: function createElement(component) {\n    var htmlElement = _elements2.default[component.type];\n    if (htmlElement) {\n      component = htmlElement.parse(component);\n    }\n\n    var props = component.props;\n    var events = [];\n    var style = {};\n    var originStyle = props[STYLE];\n    for (var prop in originStyle) {\n      style[prop] = (0, _styleUnit.convertUnit)(originStyle[prop], prop);\n    }\n\n    var node = document.createElement(component.type, {\n      style: style\n    });\n\n    this.setNativeProps(node, props);\n\n    return node;\n  },\n  appendChild: function appendChild(node, parent) {\n    return parent.appendChild(node);\n  },\n  removeChild: function removeChild(node, parent) {\n    parent = parent || node.parentNode;\n    var id = node.attr && node.attr[ID];\n    if (id != null) {\n      nodeMaps[id] = null;\n    }\n    return parent.removeChild(node);\n  },\n  replaceChild: function replaceChild(newChild, oldChild, parent) {\n    parent = parent || oldChild.parentNode;\n    var previousSibling = oldChild.previousSibling;\n    var nextSibling = oldChild.nextSibling;\n    this.removeChild(oldChild, parent);\n\n    if (previousSibling) {\n      this.insertAfter(newChild, previousSibling, parent);\n    } else if (nextSibling) {\n      this.insertBefore(newChild, nextSibling, parent);\n    } else {\n      this.appendChild(newChild, parent);\n    }\n  },\n  insertAfter: function insertAfter(node, after, parent) {\n    parent = parent || after.parentNode;\n    return parent.insertAfter(node, after);\n  },\n  insertBefore: function insertBefore(node, before, parent) {\n    parent = parent || before.parentNode;\n    return parent.insertBefore(node, before);\n  },\n  addEventListener: function addEventListener(node, eventName, eventHandler) {\n    return node.addEvent(eventName, eventHandler);\n  },\n  removeEventListener: function removeEventListener(node, eventName, eventHandler) {\n    return node.removeEvent(eventName, eventHandler);\n  },\n  removeAllEventListeners: function removeAllEventListeners(node) {\n    // Noop\n  },\n  removeAttribute: function removeAttribute(node, propKey, propValue) {\n    if (propKey == ID) {\n      nodeMaps[propValue] = null;\n    }\n    // Weex native will crash when pass null value\n    return node.setAttr(propKey, undefined, false);\n  },\n  setAttribute: function setAttribute(node, propKey, propValue) {\n    if (propKey == ID) {\n      nodeMaps[propValue] = node;\n    }\n\n    // Weex only support `ariaLabel` format, convert `aria-label` format to camelcase\n    if (ARIA_PREFIX_REGEXP.test(propKey)) {\n      propKey = propKey.replace(/\\-(\\w)/, function (m, p1) {\n        return p1.toUpperCase();\n      });\n    }\n\n    return node.setAttr(propKey, propValue, false);\n  },\n  setStyles: function setStyles(node, styles) {\n    // TODO if more then one style update, call setStyles will be better performance\n    for (var key in styles) {\n      var val = styles[key];\n      val = (0, _styleUnit.convertUnit)(val, key);\n      node.setStyle(key, val);\n    }\n  },\n  beforeRender: function beforeRender() {\n    // Turn off batched updates\n    document.open();\n\n    // Init rem unit\n    (0, _styleUnit.setRem)(this.getWindowWidth() / FULL_WIDTH_REM);\n  },\n  afterRender: function afterRender() {\n    if (document.listener && document.listener.createFinish) {\n      document.listener.createFinish();\n    }\n\n    // Turn on batched updates\n    document.close();\n  },\n  getWindowWidth: function getWindowWidth() {\n    return FULL_WIDTH_REM;\n  },\n  setNativeProps: function setNativeProps(node, props) {\n    for (var prop in props) {\n      var value = props[prop];\n      if (prop === CHILDREN) {\n        continue;\n      }\n\n      if (value != null) {\n        if (EVENT_PREFIX_REGEXP.test(prop)) {\n          var eventName = prop.slice(2).toLowerCase();\n          this.addEventListener(node, eventName, value);\n        } else {\n          this.setAttribute(node, prop, value);\n        }\n      }\n    }\n  }\n};\n\nexports.default = Driver;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/weex-driver/lib/index.js"],"sourceRoot":""}